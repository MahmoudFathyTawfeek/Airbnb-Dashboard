<div class="container mt-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>All Users</h3>
    <a routerLink="/users/add" class="btn btn-primary">+ Add User</a>
  </div>

  <!--  Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« -->
  <div class="input-group mb-3">
    <input
      type="email"
      [(ngModel)]="searchEmail"
      class="form-control"
      placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„"
    />
    <button class="btn btn-outline-primary" (click)="searchByEmail()">ğŸ” Ø¨Ø­Ø«</button>
  </div>

  <!--  Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ -->
  <div *ngIf="searchError" class="alert alert-warning text-center">
    {{ searchError }}
  </div>

  <table class="table table-bordered table-striped table-hover" *ngIf="paginatedUsers.length > 0">
    <thead class="fixed-bg text-center">
      <tr>
        <th>Name</th>
        <th>E-Mail</th>
        <th>Phone</th>
        <th>Type</th>
        <th>Delete</th>
        <th>Update</th>
      </tr>
    </thead>

    <tbody class="text-center fixed-bg2">
      <tr *ngFor="let user of paginatedUsers" class="text-white">
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.phone || 'Not Found' }}</td>
        <td>
          <span class="badge" [ngClass]="user.isAdmin ? 'bg-success' : 'bg-secondary'">
            {{ user.isAdmin ? 'Admin' : 'User' }}
          </span>
        </td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="deleteUser(user.id)">ğŸ—‘ï¸</button>
        </td>
        <td>
          <a [routerLink]="['/users/update', user.id]" class="btn btn-warning btn-sm">
            âœï¸
          </a>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="paginatedUsers.length > 0" class="d-flex justify-content-center align-items-center gap-2 mt-3">
    <button
      class="btn btn-primary btn-sm"
      (click)="prevPage()"
      [disabled]="currentPage === 1"
    >
       â—€ Ø§Ù„Ø³Ø§Ø¨Ù‚
    </button>

    <span>ØµÙØ­Ø© {{ currentPage }} Ù…Ù† {{ totalPages }}</span>

    <button
      class="btn btn-primary btn-sm"
      (click)="nextPage()"
      [disabled]="currentPage * pageSize >= filteredUsers.length"
    >
        Ø§Ù„ØªØ§Ù„ÙŠ â–¶
    </button>
  </div>

</div>
