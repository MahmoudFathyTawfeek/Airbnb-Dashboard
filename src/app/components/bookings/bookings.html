<div class="container mt-4">
  <h3 class="mb-4 text-primary">📅 Bookings List</h3>

  <!-- ✅ الفلاتر -->
  <div class="row mb-3 g-2">
    <div class="col-md-3">
      <input type="date" class="form-control" [(ngModel)]="filterStartDate" (change)="applyFilters()" placeholder="من">
    </div>
    <div class="col-md-3">
      <input type="date" class="form-control" [(ngModel)]="filterEndDate" (change)="applyFilters()" placeholder="إلى">
    </div>
    <div class="col-md-3">
      <select class="form-select" [(ngModel)]="filterStatus" (change)="applyFilters()">
        <option value="">State</option>
        <option value="confirmed">Confirmed</option>
        <option value="pending">Pending</option>
        <option value="cancelled">Canceled</option>
      </select>
    </div>
    <div class="col-md-3">
      <button class="btn btn-secondary w-100" (click)="resetFilters()">🔄 Reset</button>
    </div>
  </div>

  <!-- ✅ الجدول -->
  <table class="table table-bordered table-striped table-hover text-center">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>User</th>
        <th>Unit ID</th>
        <th>Date</th>
        <th>State</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let booking of filteredBookings" class="text-white">
        <td>{{ booking.id }}</td>
        <td>{{ booking.userId }}</td>
        <td>{{ getUnitTitle(booking.unitId) }}</td>
        <td>{{ booking.date }}</td>
        <td>
          <span class="badge" 
                [ngClass]="{
                  'bg-success': booking.status==='confirmed',
                  'bg-warning text-dark': booking.status==='pending',
                  'bg-danger': booking.status==='cancelled'
                }">
            {{ booking.status }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
